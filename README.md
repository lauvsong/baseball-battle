# skp-baseball-battle

[제2회 SK Planet Developers Day](https://www.techallhands.net/) 참가작 

## Problem

Player 1과 Player 2의 코드가 일대일로 대결하는 방식이며, 프로그래밍 언어는 `JAVASCRIPT` 입니다.
게임의 규칙을 확인하시고, Player 1과 Player 2의 코드를 작성하신 후, 게임시작 버튼을 누르면 배틀이 시작됩니다.
1 Game은 7 Round로 구성되고, 1 Round는 9이닝이 모두 끝날 때까지 Turn이 반복됩니다.
각 Game, Round, Turn의 시작과 끝에서 onGameStart, onRoundStart, onTurnStart, onTurnEnd, onRoundEnd, onGameEnd 함수가 호출되며, 사용작는 각 함수에 자신의 로직을 구현하면 됩니다.
게임의 규칙에 맞게 기본 전략을 세우고, 상대의 패턴을 분석하여 onTurnStart에서 최선의 선택을 반환하는 것이 승리의 핵심요소입니다.

### Game Rules
- 각 Turn에서, 내가 수비라면 공을 어디에 던질지, 내가 공격이라면 배트를 어디로 휘두를지를 선택합니다.
 
|0,0|0,1|0,2|
|---|---|---|
|1,0|1,1|1,2|
|2,0|2,1|2,2|

  - 수비(투수): 위의 9개 값 중 하나, 또는 범위를 벗어난 값(예:[3,3])을 선택할 수 있습니다. 범위를 벗어난 값은 볼로 처리됩니다. 그리고 정중앙([1,1])을 제외한 나머지는 볼이 될 확률이 있습니다. 4개의 코너([0,0], [0,2], [2,0], [2,2])는 5/9의 확률로 볼이 되고, 4개의 사이드([0,1], [2,1], [1,0], [1,2])는 1/3의 확률로 볼이 됩니다.
  - 공격(타자): 위의 9개 값 중 하나, 또는 범위를 벗어난 값(예:[3,3])을 선택할 수 있습니다. 범위를 벗어난 값은, 배트를 휘두르지 않은 것으로 처리됩니다.
- Turn의 결과는 4가지 중 하나입니다.
  - 홈런: 투수의 선택과 타자의 선택이 일치하는 경우
  - 안타: 투수의 선택의 행(row)과 타자의 선택의 행이 일치하는 경우(예: [1,0]과 [1,2]). 안타는 무조건 1루타입니다.
  - 스트라이크: 투수가 스트라이크를 던졌는데 타자가 못 친 경우, 또는 투수가 볼을 던졌는데 타자가 휘두른 경우
  - 볼: 홈런, 안타, 스트라이크가 아닌 경우
- 기본적인 진행 규칙은 "진짜 야구"와 유사합니다.
  - 3 스트라이크면, 1 아웃입니다.
  - 4 볼이면, 볼넷으로 주자가 진루합니다.
  - 3 아웃이면, 공수교대입니다.
  - 안타 또는 볼넷이면, 1루 진루입니다.
  - 1루, 2루, 3루, 홈으로 구성되고, 주자가 1루 -> 2루 -> 3루 -> 홈으로 오면 득점합니다.
  - 홈런이면, 타자 포함 모든 루상의 주자가 홈으로 들어오고, 득점이 됩니다.
  - 9 이닝까지이고, 연장전은 없습니다.

  ---

## Strategy

### 공격
- 기본적으로 안 침
  - 볼넷 유도 목적
- 볼셋에 도달했을 때, 정중앙 좌표로 1회 스윙
  - 수비가 볼넷을 막고자 한다면, 정중앙 좌표를 노릴 것이라 예상
- 라운드 별 볼셋 타격 성공/실패 여부 집계
  - 시도 횟수 중 90% 이상 홈런/안타일 시 전략 유지
  - 90% 미만일 시 다음 라운드는 볼셋에도 스윙하지 않음
- 라운드 별 삼진 아웃 여부 집계
  - 타자 전환 횟수 중 삼진 아웃으로 인한 횟수가 90% 미만일 시, 스윙 안 하는 전략 유지
  - 90% 이상일 시, 다음 라운드는 정중앙 좌표로 계속 스윙
    - 상대가 전략을 예측했다고 판단
    - 수비 입장에서 가장 매력적(볼 가능성 0%)인 좌표로 선정


### 수비
- 볼셋까지 볼만 친 후, 그 이후는 정중앙 좌표로만 투구
  - 볼넷 발생 가능성 완전 차단 목적
  - 볼셋 도달 전 삼진 아웃 가능성 높음
- 라운드 별 상대편 타격 성공/실패 여부 집계
  - 볼셋 이후 타격 시도 횟수 중 90% 이상 홈런/안타 일시, 볼셋 이후 대안 좌표로 투구
    - 상대가 좌표를 예측했다고 판단
  - 대안 좌표 선정 기준
    - 볼 발생 확률이 낮은 곳 (볼 확률 1/3 좌표)
    - 정중앙 좌표와 행이 다른 곳 (안타 예방)

### 공통
- 전략 수정 후 다시 전략 수정 조건 만족 시, 기본값과 대안값을 라운드 마다 번갈아 설정